{% extends 'home_afiliado.html' %}
{% load crispy_forms_tags %}

{% load static %}

{% block extracss_intermedia %}
  <link href="{% static 'css/afiliado_alta.css' %}" rel="stylesheet" />
{% endblock %}

{% block dinamica %}
  <div class="container">
    <div class="row row-cols-1 row-cols-sm-1 row-cols-md-1">
      <div class="col">
        <h1 id="titulo">{{ titulo }}</h1>
      </div>
    </div>
  </div>

  <form method="post">
    {% csrf_token %}
    <fieldset>
      <div class="container border p-3 mb-3 col-md-7 offset-md-3" id="datos-personales">
        <h3>Datos personales</h3>
        <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2">
          {% comment %}DNI{% endcomment %}
          <div class="col">
            <span>Dni *</span>
            <p>
              {{ form.dni }}
              <br />
              <span>
                {% if form.dni.help_text %}
                  <small class="text-muted">{{ form.dni.help_text }}</small>
                {% endif %}
                <br />
                {% if form.dni.errors %}
                  {% for error in form.dni.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
                <br />
              </span>
            </p>
          </div>
          {% comment %}CUIL{% endcomment %}
          <div class="col">
            <span>Cuil *</span>
            <p>
              {{ form.cuil }}
              <br />
              <span>
                {% if form.cuil.help_text %}
                  <small class="text-muted">{{ form.cuil.help_text }}</small>
                {% endif %}
                <br />
                {% if form.cuil.errors %}
                  {% for error in form.cuil.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}NOMBRE{% endcomment %}
          <div class="col">
            <span>Nombre/s *</span>
            <p>
              {{ form.nombre }}
              <br />
              <span>
                {% if form.nombre.errors %}
                  {% for error in form.nombre.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}APELLIDO{% endcomment %}
          <div class="col">
            <span>Apellido/s *</span>
            <p>
              {{ form.apellido }}
              <br />
              <span>
                {% if form.apellido.errors %}
                  {% for error in form.apellido.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}FECHA DE NACIMIENTO{% endcomment %}
          <div class="col">
            <label for="fecha_nacimiento">Fecha de nacimiento *</label>
            <br />
            <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" value="{{ fecha_nacimiento_input }}" />
            <br />
            <small id="fecha-nacimiento-error" class="error-text blink-text"></small>
          </div>
          {% comment %}EMAIL{% endcomment %}
          <div class="col">
            <span>Email *</span>
            <p>
              {% if form.mail.errors %}
                {% for error in form.mail.errors %}
                  <small class="error-text blink-text">{{ error|safe }}</small>
                {% endfor %}
              {% endif %}
              {{ form.mail }}
              <br />
              <span>
                <small id="email-error" class="error-text blink-text"></small>
                <br />
                {% if form.mail.help_text %}
                  {% comment %} <small class="text-muted">{{ form.mail.help_text }}</small> {% endcomment %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}DIRECCION Y NUMERO{% endcomment %}
          <div class="col">
            <span>Dirección y numero *</span>
            <p>
              {{ form.direccion }}
              <br />
              <span>
                {% if form.direccion.help_text %}
                  <small class="text-muted">{{ form.direccion.help_text }}</small>
                {% endif %}
                <br />
                {% if form.direccion.errors %}
                  {% for error in form.direccion.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}CELULAR{% endcomment %}
          <div class="col">
            <span>Celular *</span>
            <p>
              {{ form.celular }}
              <br />
              <span>
                {% if form.celular.help_text %}
                  <small class="text-muted">{{ form.celular.help_text }}</small>
                {% endif %}
                <br />
                {% if form.celular.errors %}
                  {% for error in form.celular.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                    <br />
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}NACIONALIDAD{% endcomment %}
          <div class="col">
            <span>Nacionalidad *</span>
            <p>
              {% if form.nacionalidad.errors %}
                {% for error in form.nacionalidad.errors %}
                  <small class="error-text blink-text">{{ error|safe }}</small>
                {% endfor %}
              {% endif %}
              {{ form.nacionalidad }}
              <br />
              <span>
                {% if form.nacionalidad.help_text %}
                  <small class="text-muted">{{ form.nacionalidad.help_text }}</small>
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}ESTADO CIVIL{% endcomment %}
          <div class="col">
            <span>Estado civil *</span>
            <p>
              {% if form.estado_civil.errors %}
                {% for error in form.estado_civil.errors %}
                  <small class="error-text blink-text">{{ error|safe }}</small>
                {% endfor %}
              {% endif %}
              {{ form.estado_civil }}
              <br />
              <span>
                {% if form.estado_civil.help_text %}
                  <small class="text-muted">{{ form.estado_civil.help_text }}</small>
                {% endif %}
              </span>
            </p>
          </div>
        </div>
      </div>
    </fieldset>

    <fieldset>
      <div class="container border p-3 mb-3 col-md-7 offset-md-3" id="datos-laborales">
        <h3>Datos de afiliación</h3>
        <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2">
          {% comment %}RAZON SOCIAL{% endcomment %}
          <div class="col">
            <span>Razon social *</span>
            <p>
              {% if form.razon_social.errors %}
                {% for error in form.razon_social.errors %}
                  <small class="error-text blink-text">{{ error|safe }}</small>
                  <br />
                {% endfor %}
              {% endif %}
              {{ form.razon_social }}
              <br />
              <span>
                <small id="razon-social-error" class="error-text blink-text"></small> <!-- Mensaje de error para razon_social -->
                {% if form.razon_social.help_text %}
                  <small class="text-muted">{{ form.razon_social.help_text }}</small>
                {% endif %}
              </span>
              <br />
            </p>
          </div>
          {% comment %}CATEGORIA LABORAL{% endcomment %}
          <div class="col">
            <label for="categoria_laboral">Categoria laboral *</label>
            <br />
            {{ form.categoria_laboral }}
            <br />
            <span class="error-container"><small id="categoria-laboral-error" class="error-text blink-text"></small></span>
            {% if form.categoria_laboral.help_text %}
              <small class="text-muted">{{ form.categoria_laboral.help_text }}</small>
            {% endif %}
          </div>
          {% comment %}RAMA{% endcomment %}
          <div class="col">
            <span>Rama a la que se dedica *</span>
            <p>
              {{ form.rama }}
              <span>
                {% if form.rama.help_text %}
                  <small class="text-muted">{{ form.rama.help_text }}</small>
                {% endif %}
                <br />
                <small id="rama-error" class="error-text blink-text"></small>
                <br />
                {% if form.rama.errors %}
                  {% for error in form.rama.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>

          {% comment %}SUELDO{% endcomment %}
          <div class="col">
            <span>Sueldo *</span>
            <p>
              {{ form.sueldo }}
              <br />
              <span>
                <small id="sueldo-error" class="error-text blink-text"></small>
                {% if form.sueldo.help_text %}
                  <small class="text-muted">{{ form.sueldo.help_text }}</small>
                {% endif %}
                <br />
                {% if form.sueldo.errors %}
                  {% for error in form.sueldo.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}FECHA DE AFILIACION{% endcomment %}
          <div class="col-md-12">
            <span>Fecha Afiliacion *</span>
            {{ form.fechaAfiliacion }}
            <span>
              {% if form.fechaAfiliacion.errors %}
                {% for error in form.fechaAfiliacion.errors %}
                  <small class="error-text blink-text">{{ error|safe }}</small>
                {% endfor %}
              {% endif %}
              <small id="fecha-fechaAfiliacion-error" class="error-text blink-text"></small>
              {% if form.fechaAfiliacion.help_text %}
                <small class="text-muted">{{ form.fecha_nacimiento.help_text }}</small>
              {% endif %}
            </span>
          </div>
        </div>
        <br />
        <h3>Datos empresariales</h3>

        <div class="row row-cols-1 row-cols-sm-6 row-cols-md-2">
          {% comment %}HORA JORNADA{% endcomment %}
          <div class="col">
            <span>Hora jornada *</span>
            <p>
              {{ form.horaJornada }}
              <span>
                {% if form.horaJornada.help_text %}
                  <small class="text-muted">{{ form.horaJornada.help_text }}</small>
                {% endif %}
                <br />
                <small id="hora-jornada-error" class="error-text blink-text"></small>
                <br />
                {% if form.horaJornada.errors %}
                  {% for error in form.horaJornada.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          {% comment %}FECHA DE INGRESO{% endcomment %}
          <div class="col">
            <span>Fecha de ingreso *</span>
            <p>
              {% if form.fechaIngresoTrabajo.errors %}
                {% for error in form.fechaIngresoTrabajo.errors %}
                  <small class="error-text blink-text">{{ error|safe }}</small>
                {% endfor %}
              {% endif %}
              {{ form.fechaIngresoTrabajo }}
              <br />
              <span>
                <small id="fecha-fechaIngresoTrabajo-error" class="error-text blink-text"></small>
                <br />
                {% if form.fechaIngresoTrabajo.help_text %}
                  <small class="text-muted">{{ form.fechaIngresoTrabajo.help_text }}</small>
                {% endif %}
              </span>
            </p>
          </div>
          <div class="col">
            <span>Cuit empleador *</span>
            <p>
              {{ form.cuit_empleador }}
              <br />
              <span>
                {% if form.cuit_empleador.help_text %}
                  <small class="text-muted">{{ form.cuit_empleador.help_text }}</small>
                {% endif %}
                <br />
                <small id="cuit-empleador-error" class="error-text blink-text"></small>
                <br />
              </span>
            </p>
          </div>
          {% comment %}Domicilio EMPRESA{% endcomment %}
          <div class="col">
            <span>Dirección empresa *</span>
            <p>
              {{ form.domicilio_empresa }}
              <span>
                <br />
                {% if form.domicilio_empresa.help_text %}
                  <small class="text-muted">{{ form.domicilio_empresa.help_text }}</small>
                {% endif %}
                <br />
                <small id="direccion-empresa-error" class="error-text blink-text"></small>
                <br />
                {% if form.domicilio_empresa.errors %}
                  {% for error in form.domicilio_empresa.errors %}
                    <small class="error-text blink-text">{{ error|safe }}</small>
                  {% endfor %}
                {% endif %}
              </span>
            </p>
          </div>
          <div class="col-md-12">
            <span>Localidad de la empresa *</span>
            {{ form.localidad_empresa }}
            <br />
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row row-cols-1 row-cols-sm-1 row-cols-md-3">
          <div class="col">
            <a href="{% url 'afiliados:index' %}" class="btn btn-danger">Cancelar</a>
          </div>
          <div class="col">
            <button type="button" class="btn btn-info" id="btn-siguiente">Siguiente</button>
            <button type="button" class="btn btn-secondary" id="btn-anterior">Atrás</button>
          </div>
          <div class="col">
            <input type="submit" value="Finalizar" class="btn btn-success" id="btn-guardar" />
            <input type="submit" value="Finalizar" class="btn btn-success" id="btn-guardar" disabled />
          </div>
        </div>
      </div>
    </fieldset>
  </form>
{% endblock %}

{% block extrajs_intermedia %}
  <script src="{% static 'js/afiliado_alta.js' %}"></script>
{% endblock %}
